          <div class="header-select">
              <%= select_tag "maturidade_id", options_from_collection_for_select(@maturidades, "id", "nome", @opcao), prompt: "Escolha um modelo", class: "modelo corpo_texto_select" %>
          </div>
        </div>
        <button onclick="showModalInfos()" class="header-title-info d-flex-center-center h-100">
          <%= image_tag('icons/info.svg', width: '25px', height: '25px') %>
        </button>
      </div>
      <div class="header-links d-flex-center-start h-100 w-fit">
        <div class="header-links-wrapper d-flex-center-center">
          <div onclick="" class="header-link d-flex-center-start h-fit">
            <%= image_tag('icons/edit2.svg', width: '20px', height: '20px') %>
            <a href="" id=""> Editar informações do modelo</a>
          </div>
        </div>
      </div>
      <div style="display: none">
        <%if @opcao != 0%>
          <% maturidade_selecionada = Maturidade.find(@opcao)%>
          <div id="mudancaResultado" class="<%=maturidade_selecionada.resultadoEscolha%>"> </div>
        <% else %>
          <% maturidade_selecionada = Maturidade.new %>
        <%end%>
      </div>
    </header>

  
  
  </main>

  <section onclick="closeAll_popup(event)" class="popup-background d-flex-center-center hidden" id="popup_background">

    <!-- Confirmação de exclusão de arquivos -->
    <div id="confirmar_exclusao" class="confirmation-main d-flex-start-evenly flex-column hidden">
      <h1>Confirmar exclusão?</h1>
      <p>Tem certeza que deseja continuar com essa ação? Essa alteração não poderá ser desfeita.</p>
      <p>Digite "confirmo" para executar essa ação</p>
      <input onkeyup="liberaBotaoExclusao()" type="text" id="input_confirmation_exclusao" placeholder="confirmo">
      <div class="confirmation-main-btns d-flex-center-end w-100">
        <button onclick="closeAll_popup()" class="confirmation-main-btns-cancelar" value="">Cancelar</button>
        <button id="btn_confirma_exclusao" class="confirmation-main-btns-confirmar" disabled>Excluir</button>
      </div>
    </div>
  </section>








  <script>
    //contante de todos os ids de todos os popups da pagina;
    const listaPopups = ["cadastrar_dominio", "confirmar_exclusao"];

    //Função para mostrar um popup qualquer
    function show_popup(id_popup, rota) {
      const popup = document.getElementById(id_popup);
                console.log(popup);
      if(popup) {
        const popupBg = document.getElementById("popup_background");

        if(popup.classList.contains("hidden")) {
          popup.classList.remove("hidden");
          popupBg.classList.remove("hidden");
        } else {
          popup.classList.add("hidden");
          popupBg.classList.add("hidden");
        }

        if(popup == "confirmar_exclusao") {
          document.getElementById('btn_confirma_exclusao').setAttribute('onclick', `location.href='`+rota+`'`);
        }
      }
    }

    //Função para fechar todos os popups abertos
    function closeAll_popup(event) {
      const popupBg = document.getElementById("popup_background");

      if(event.target === popupBg) {
        popupBg.classList.add("hidden");
        console.log(popupBg.classList);
        listaPopups.forEach(function(popupId) {
          let popup = document.getElementById(popupId);
          if(!popup.classList.contains("hidden")) {
            popup.classList.add("hidden");
          }
        });
      }
    }
  </script>

  <script>
    //* Retira o disabled do botao de exclusão do modal de confirmação de exclusão
    function liberaBotaoExclusao() {
      let inputConfirmaExclusao = document.getElementById('input_confirmation_exclusao');
      let btnConfirmaExclusao = document.getElementById('btn_confirma_exclusao');

      if(inputConfirmaExclusao.value == 'confirmo')
        btnConfirmaExclusao.disabled = false;
      else
        btnConfirmaExclusao.disabled = true;
    }
    //* Fim ---
  </script>



  <script>
    function trocaEditarInfosModelos() {
      let section_niveis  = document.getElementById("section-niveis");
      let section_infos  = document.getElementById("section-editar-infos");
      let titulo_btn = document.getElementById("titulo_trocaInfosModelo");

      if(section_niveis.classList.contains("hidden") == true) {
        titulo_btn.textContent = "Editar informações do modelo";
        section_niveis.classList.remove("hidden");
        section_infos.classList.add("hidden");
        console.log('oi');
      } else {
        titulo_btn.textContent = "Voltar para edição de níveis";
        section_niveis.classList.add("hidden");
        console.log('tchau');
        section_infos.classList.remove("hidden");
      }
    }
  </script>

  <script>
    function trocaEditardescricaoNivel(id_nivel) {
      let input = document.getElementById("input_descricao_"+id_nivel);
      let btn_editar = document.getElementById("btn_editar_"+id_nivel);
      let btn_salvar = document.getElementById("btn_salvar_"+id_nivel);
      const form = document.getElementById("form_"+id_nivel);

      if(input.disabled) {
        input.disabled = false;
        btn_editar.disabled = true;
        btn_salvar.disabled = false;
      } else {
        form.submit();
        input.disabled = true;
        btn_editar.disabled = false;
        btn_salvar.disabled = true;
        
      }

    }

    $(document).ready(function(){
      $(".header-select #maturidade_id").change(function(){
        var opcaoSelecionada = this.value;
        axios.post("/editar/atualizar_opcao", { opcao: opcaoSelecionada })
        .then(function(response) {
          // Lógica para sucesso na resposta
          var redirectUrl = response.data.redirect_url;
          window.location.href = redirectUrl;
          console.log(response.data);
        })
        .catch(function(error) {
          // Lógica para erro na resposta
          console.error(error);
        });
      });
    });
  </script>
  
